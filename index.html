<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MicrobeScope Explorer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>MicrobeScope Explorer</h1>
            <div class="search-controls">
                <div class="search-area">
                    <input type="text" id="microbeSearchInput" placeholder="Enter microbe name (e.g., Bacillus subtilis)...">
                    <button id="searchButton">Search</button>
                </div>
                <div class="filter-area">
                    <label for="gramFilterSelect">Filter by Gram Stain:</label>
                    <select id="gramFilterSelect">
                        <option value="any" selected>Any</option>
                        <option value="positive">Gram-Positive</option>
                        <option value="negative">Gram-Negative</option>
                    </select>
                </div>
            </div>
            <div id="filterStatus" class="filter-status-display" style="display: none; margin-top: 10px;">
                <!-- Filter status will be populated here -->
            </div>
            <div id="loadingIndicator" class="loading-indicator" style="display: none;">
                <p>Loading...</p>
            </div>
            <div id="errorContainer" class="error-message-container" style="display: none;"></div>
            <div id="searchResultsContainer" class="search-results-display">
                <!-- Search results/suggestions will be populated here by JavaScript -->
            </div>
        </header>

        <section id="comparisonTrayArea" style="display: none;">
            <h3>Selected for Comparison:</h3>
            <ul id="comparisonSelectedList">
                <!-- Selected items will be populated here -->
            </ul>
            <div class="comparison-actions">
                <button id="compareSelectedButton" disabled>Compare Selected (<span id="comparisonCount">0</span>)</button>
                <button id="clearComparisonButton">Clear Selection</button>
            </div>
        </section>

        <main id="microbeDetailSection" style="display: none;">
            <div class="microbe-header">
                <h1 id="microbeScientificName"></h1>
                <p id="microbeRank" class="rank-display"></p>
            </div>

            <div class="content-wrapper">
                <div class="main-info-column">
                    <div class="info-card" id="summaryCard">
                        <h2>Summary</h2>
                        <div id="microbeDescription">
                            <!-- Microbe description from API -->
                        </div>
                        <!-- Placeholder for multiple BioSample records -->
                        <div id="biosampleRecordsListContainer">
                             <p><strong>BioSample Records:</strong></p>
                             <div id="biosampleRecordsList">
                                 <!-- BioSample records will be listed here -->
                             </div>
                        </div>
                    </div>

                    <div class="info-card" id="taxonomyCard">
                        <h2>Taxonomy</h2>
                        <p><strong>NCBI TaxID:</strong> <span id="ncbiTaxId">N/A</span></p> <!-- Will be made a link by JS -->
                        <div id="taxonomyLineage">
                            <!-- Taxonomy lineage from API -->
                        </div>
                    </div>

                    <div class="info-card" id="morphologyCard">
                        <h2>Morphology & Physiology</h2>
                        <p><strong>Gram Stain:</strong> <span id="gramStain">N/A</span></p>
                        <p><strong>Cell Shape:</strong> <span id="cellShape">N/A</span></p>
                        <p><strong>Oxygen Requirement:</strong> <span id="oxygenRequirement">N/A</span></p>
                    </div>

                    <div class="info-card" id="genomicsCard">
                        <h2>Genomics</h2>
                        <!-- Placeholder for multiple Nuccore records -->
                        <div id="nuccoreRecordsListContainer">
                            <p><strong>Nuccore Records:</strong></p>
                            <div id="nuccoreRecordsList">
                                <!-- Nuccore records will be listed here -->
                            </div>
                        </div>
                        <p style="margin-top: 10px;"><strong>GC Content:</strong> <span id="gcContent">N/A</span></p>
                    </div>
                </div>

                <div class="sidebar-column">
                    <div class="info-card" id="imageCard">
                        <h2>Image</h2>
                        <img id="microbeImage" src="#" alt="Microbe Image" style="display:none; max-width: 100%; border-radius: 4px;">
                        <p id="noImageText" style="display: none; text-align:center;">Image not available.</p>
                    </div>

                    <div class="info-card" id="linksCard">
                        <h2>External Links</h2>
                        <ul id="externalLinksList">
                            <!-- Links will be populated by JavaScript -->
                        </ul>
                    </div>
                </div>
            </div>
        </main>

        <section id="comparisonDisplayArea" style="display: none;">
            <h2>Microbe Comparison</h2>
            <div id="comparisonTableContainer">
                <p id="comparisonPlaceholderText" class="placeholder-text">Select at least two microbes from the search results to compare them here.</p>
                <!-- Comparison table will be rendered here by JavaScript -->
            </div>
        </section>

        <footer>
            <p>Powered by NCBI E-utilities. Developed by Jules.</p>
        </footer>
    </div>
    <script src="script.js" defer></script>
</body>
</html>
